<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Zipcode Ajax  Example</title>
        <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>     <!-- Load jQuery via CDN -->
		<script>
			$(document).ready(function() {			// Wait till the document is ready

                $('#lookupBtn').on('click', function() {
                    var zip = $('#zipInput').val();                     // Get the zipcode the user entered
                    var url = '/zipcode/' + zip;                        // Create a url as /zipcode/zip (eg: /zipcode/74133)
                    $.get(url, function(location) {                     // Send a GET request to url and store the result as 'location'
                        console.log(url, ' returned: ', location);      // Log some useful debug info to the browser console
                        if(location) {                                  // Check to make sure the server returned a location object (it will return null if the zipcode was invalid)
                            $('#locationCity').html(location.city);     // Display the city
                            $('#locationState').html(location.state);   // Display the state
                        }
                    });
                });
            });
		</script>
    </head>
    <body>
        <input type="text" id="zipInput" placeholder="Enter Zip Code">
        <input type="button" id="lookupBtn" value="Lookup">

        <table style="width:400px; margin-top:10px" border=1>       <!-- Define a table with a little bit of styling -->
            <tr>
                <td>City:</td>
                <td id="locationCity">[city goes here]</td>         <!-- Our targets for jQuery selectors can be anything, even table data elements -->
            </tr>
            <tr>
                <td>State:</td>
                <td id="locationState">[state goes here]</td>
            </tr>
        </table>
    </body>
</html>
